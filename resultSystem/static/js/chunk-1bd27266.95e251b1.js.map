{"version":3,"sources":["webpack:///./src/api/student.js","webpack:///./src/views/statistics/PassRate.vue?a915","webpack:///src/views/statistics/PassRate.vue","webpack:///./src/views/statistics/PassRate.vue?144d","webpack:///./src/views/statistics/PassRate.vue"],"names":["getCategory","params","request","url","method","listStudent","listRankStudent","chartListStudent","createStudent","student","data","updateStudent","passRate","advantageResult","ad","getSum","render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","on","handleFilter","model","value","callback","$$v","subject","expression","_l","item","key","label","category","$event","handleChange","valueGrade","option","load","staticRenderFns","GoodRate","PassRate","NotPassRate","grade","categoryList","ChartCategoryList","classes","ClassList","title","text","left","top","tooltip","trigger","legend","selectedMode","orient","right","series","computed","mounted","getPassRate","getCategoryList","console","log","views","methods","passResult","Good","Pass","NotPass","component"],"mappings":"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","file":"static/js/chunk-1bd27266.95e251b1.js","sourcesContent":["import request from '@/utils/request'\n\nexport function getCategory(params) {\n  return request({\n    url: '/student/category',\n    method: 'get',\n    params\n  })\n}\n\nexport function listStudent(params) {\n  return request({\n    url: '/student/list',\n    method: 'get',\n    params\n  })\n}\n\nexport function listRankStudent(params) {\n  return request({\n    url: '/student/listRank',\n    method: 'get',\n    params\n  })\n}\n\nexport function chartListStudent(params) {\n  return request({\n    url: '/student/chartList',\n    method: 'get',\n    params\n  })\n}\n\nexport function createStudent(student) {\n  return request({\n    url: '/student/create',\n    method: 'post',\n    data: student\n  })\n}\n\nexport function updateStudent(student) {\n  return request(({\n    url: '/student/update',\n    method: 'post',\n    data: student\n  }))\n}\n\nexport function passRate(params) {\n  return request(({\n    url: '/student/pass',\n    method: 'get',\n    params\n  }))\n}\n\nexport function advantageResult(ad) {\n  return request(({\n    url: '/student/advantage',\n    method: 'post',\n    data: ad\n  }))\n}\n\nexport function getSum() {\n  return request(({\n    url: '/student/getSum',\n    method: 'get'\n  }))\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"90%\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"20%\",\"height\":\"auto\",\"margin-left\":\"20px\",\"margin-top\":\"20px\",\"z-index\":\"1\"},attrs:{\"placeholder\":\"选择科目\"},on:{\"change\":_vm.handleFilter},model:{value:(_vm.subject),callback:function ($$v) {_vm.subject=$$v},expression:\"subject\"}},_vm._l((_vm.ChartCategoryList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"20%\",\"display\":\"block\",\"margin-left\":\"20px\",\"margin-top\":\"20px\",\"z-index\":\"1\"},attrs:{\"placeholder\":\"选择班级\",\"clearable\":\"\"},on:{\"change\":_vm.handleFilter},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"20%\",\"display\":\"block\",\"margin-left\":\"20px\",\"margin-top\":\"20px\",\"z-index\":\"1\"},attrs:{\"placeholder\":\"请选择\"},on:{\"change\":function($event){_vm.handleFilter();_vm.handleChange()}},model:{value:(_vm.valueGrade),callback:function ($$v) {_vm.valueGrade=$$v},expression:\"valueGrade\"}},_vm._l((_vm.grade),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('v-chart',{staticStyle:{\"height\":\"430px\",\"width\":\"100%\",\"position\":\"absolute\",\"bottom\":\"50px\",\"z-index\":\"0\"},attrs:{\"option\":_vm.option,\"autoresize\":\"\",\"loading\":_vm.load}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height: 90%\">\n    <el-select\n      v-model=\"subject\"\n      placeholder=\"选择科目\"\n      class=\"filter-item\"\n      style=\"width:20%;height: auto;margin-left: 20px;margin-top: 20px;z-index: 1\"\n      @change=\"handleFilter\"\n    >\n      <el-option v-for=\"item in ChartCategoryList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n    </el-select>\n    <el-select\n      v-model=\"category\"\n      placeholder=\"选择班级\"\n      clearable\n      class=\"filter-item\"\n      style=\"width:20%;display: block;margin-left: 20px;margin-top: 20px;z-index: 1;\"\n      @change=\"handleFilter\"\n    >\n      <el-option v-for=\"item in categoryList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\n    </el-select>\n    <el-select\n      v-model=\"valueGrade\"\n      style=\"width:20%;display: block;margin-left: 20px;margin-top: 20px;z-index: 1;\"\n      class=\"filter-item\"\n      placeholder=\"请选择\"\n      @change=\"handleFilter();handleChange()\"\n    >\n      <el-option\n        v-for=\"item in grade\"\n        :key=\"item.value\"\n        :label=\"item.label\"\n        :value=\"item.value\"\n      />\n    </el-select>\n    <v-chart :option=\"option\" style=\"height: 430px;width: 100%;position:absolute;bottom: 50px;z-index: 0\" autoresize :loading=\"load\" />\n  </div>\n</template>\n<script>\nimport { getCategory, passRate } from '@/api/student'\nimport { mapState } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      GoodRate: '',\n      PassRate: '',\n      NotPassRate: '',\n      load: true,\n      grade: [{\n        value: '1',\n        label: '初一'\n      }, {\n        value: '2',\n        label: '初二'\n      }, {\n        value: '3',\n        label: '初三'\n      }],\n      categoryList: [],\n      valueGrade: '1',\n      category: '',\n      ChartCategoryList: [{\n        value: 'Chinese',\n        label: '语文'\n      }, {\n        value: 'Math',\n        label: '数学'\n      }, {\n        value: 'English',\n        label: '英语'\n      }, {\n        value: 'Physical',\n        label: '物理'\n      }, {\n        value: 'Chemistry',\n        label: '化学'\n      }, {\n        value: 'History',\n        label: '历史'\n      }, {\n        value: 'Politics',\n        label: '道法'\n      }, {\n        value: 'Biology',\n        label: '生物'\n      }, {\n        value: 'Geographic',\n        label: '地理'\n      }, {\n        value: 'Total',\n        label: '总分'\n      }\n      ],\n      subject: 'Chinese',\n      classes: '1',\n      ClassList: [{\n        value: '1',\n        label: '一班'\n      }, {\n        value: '2',\n        label: '二班'\n      }, {\n        value: '3',\n        label: '三班'\n      }, {\n        value: '4',\n        label: '四班'\n      }, {\n        value: '5', label: '全级'\n      }],\n      option: {\n        title: {\n          text: '',\n          left: 'center',\n          top: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          selectedMode: false,\n          orient: 'vertical',\n          // left: 'right',\n          right: '5%'\n        },\n        series: [\n          {\n            stillShowZeroSum: false,\n            name: 'Access From',\n            type: 'pie',\n            radius: ['60%', '80%'],\n            label: {\n              normal: {\n                formatter: function(e) {\n                  const data = e.data\n                  if (data.value === 0) {\n                    data.labelLine.show = false\n                    data.label.show = false\n                  }\n                }\n              }\n            },\n            data: [\n              { value: 0, name: '优秀人数', label: { show: true }, labelLine: { show: true }},\n              { value: 0, name: '及格人数', label: { show: true }, labelLine: { show: true }},\n              { value: 0, name: '不及格人数', label: { show: true }, labelLine: { show: true }}\n            ]\n            // emphasis: {\n            //   itemStyle: {\n            //     shadowBlur: 10,\n            //     shadowOffsetX: 0,\n            //     shadowColor: 'rgba(0, 0, 0, 0.5)'\n            //   }\n            // }\n          }\n        ]\n      }\n    }\n  },\n  computed: {\n    ...mapState({ views: state => state.tagsView })\n  },\n  mounted() {\n    this.getPassRate()\n    this.getCategoryList(this.valueGrade)\n    console.log('views', this.views)\n  },\n  methods: {\n    handleChange() {\n      this.category = ''\n    },\n    handleFilter() {\n      this.getPassRate()\n      this.getCategoryList(this.valueGrade)\n    },\n    getCategoryList(grade) {\n      getCategory(grade).then(response => {\n        this.categoryList = response.data\n        console.log(this.categoryList)\n      })\n    },\n    getPassRate() {\n      const cl = this.category\n      const sub = this.subject\n      const grade = this.valueGrade\n      passRate({ classes: cl, subject: sub, grade: grade }).then(response => {\n        const passResult = response.data\n        const {\n          Good,\n          Pass,\n          NotPass\n        } = passResult\n        console.log(passResult)\n        this.option.series[0].data[0].value = parseInt(Good)\n        this.option.series[0].data[1].value = parseInt(Pass)\n        this.option.series[0].data[2].value = parseInt(NotPass)\n        const sum = Good + Pass + NotPass\n        this.GoodRate = (Good / sum * 100).toFixed(2) + '%'\n        this.PassRate = (Pass / sum * 100).toFixed(2) + '%'\n        this.NotPassRate = (NotPass / sum * 100).toFixed(2) + '%'\n        // this.option.series.data.push()\n        this.option.title.text = `及格率:${this.PassRate}\\n\\n 优秀率:${this.GoodRate}\\n\\n 不及格率:${this.NotPassRate}`\n        this.load = false\n        console.log(this.option.series[0].data)\n        console.log('res', Good, Pass, NotPass)\n        // this.number1 = passResult[this.subject]\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PassRate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PassRate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PassRate.vue?vue&type=template&id=e7f4975e&\"\nimport script from \"./PassRate.vue?vue&type=script&lang=js&\"\nexport * from \"./PassRate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}